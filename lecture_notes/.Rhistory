my_net <- glmnet(x,y)
tidied <- tidy(my_net) %>% filter(term != "(Intercept)")
ggplot(tidied, aes(lambda, estimate, group = term, color = term)) +
geom_line() +
scale_x_log10()+
theme_bw()
n_pred <- 10
set.seed(101)
sim_data2 <- data.frame(x =runif(n_pred*100), predictor = rep(1:n_pred, each = 100), obs = rep(1:100, times = n_pred))  %>% pivot_wider(names_from = predictor, values_from = x) %>%  select(-obs) %>%   mutate(error = rnorm(100,0,1)) %>% rowwise() %>%  mutate(y = 2*sum(c_across(everything()))) %>% select(-error)
n_pred <- 10
set.seed(101)
sim_data2 <- data.frame(x =runif(n_pred*100), predictor = rep(1:n_pred, each = 100), obs = rep(1:100, times = n_pred))  %>% pivot_wider(names_from = predictor, values_from = x) %>%  select(-obs) %>%   mutate(error = rnorm(100,0,1)) %>% rowwise() %>%  mutate(y = 2*sum(c_across(everything()))) %>% select(-error)
library(glmnet)
y <- sim_data2$y
x <- model.matrix(y ~., data = sim_data2)[,-1]
my_net <- glmnet(x,y)
tidied <- tidy(my_net) %>% filter(term != "(Intercept)")
ggplot(tidied, aes(lambda, estimate, group = term, color = term)) +
geom_line() +
scale_x_log10()+
theme_bw()
n_pred <- 9
set.seed(101)
sim_data2 <- data.frame(x =runif(n_pred*100), predictor = rep(1:n_pred, each = 100), obs = rep(1:100, times = n_pred))  %>% pivot_wider(names_from = predictor, values_from = x) %>%  select(-obs) %>%   mutate(error = rnorm(100,0,1)) %>% rowwise() %>%  mutate(y = 2*sum(c_across(everything()))) %>% select(-error)
library(glmnet)
y <- sim_data2$y
x <- model.matrix(y ~., data = sim_data2)[,-1]
my_net <- glmnet(x,y)
tidied <- tidy(my_net) %>% filter(term != "(Intercept)")
ggplot(tidied, aes(lambda, estimate, group = term, color = term)) +
geom_line() +
scale_x_log10()+
theme_bw()
ggplot(tidied, aes(lambda, estimate, group = term, color = term)) +
geom_line(size = 1) +
scale_x_log10()+
theme_bw()
ggplot(tidied, aes(lambda, estimate, group = term, color = term)) +
geom_line(size = 1) +
scale_x_log10()+
theme_bw()+
labs(title = "Coefficent estimates as function of penalty")
n_pred <- 9
set.seed(101)
sim_data2 <- data.frame(x =runif(n_pred*100), predictor = rep(1:n_pred, each = 100), obs = rep(1:100, times = n_pred)) %>% mutate(x = x*predictor) %>% pivot_wider(names_from = predictor, values_from = x) %>%  select(-obs) %>%   mutate(error = rnorm(100,0,4)) %>% rowwise() %>%  mutate(y =  sum(c_across(everything()))) %>% select(-error)
library(glmnet)
y <- sim_data2$y
x <- model.matrix(y ~., data = sim_data2)[,-1]
my_net <- glmnet(x,y)
library(broom)
tidied <- tidy(my_net) %>% filter(term != "(Intercept)")
ggplot(tidied, aes(lambda, estimate, group = term, color = term)) +
geom_line(size = 1) +
scale_x_log10()+
theme_bw()+
labs(title = "Coefficent estimates as function of penalty")
n_pred <- 9
set.seed(101)
sim_data2 <- data.frame(x =runif(n_pred*100), predictor = rep(1:n_pred, each = 100), obs = rep(1:100, times = n_pred)) %>% mutate(x = x*predictor) %>% pivot_wider(names_from = predictor, values_from = x) %>%  select(-obs) %>%   mutate(error = rnorm(100,0,4)) %>% rowwise() %>%  mutate(y =  sum(c_across(everything()))) %>% select(-error)
c(sim_dat2[1,])
c(sim_data2[1,])
sim_data2 <- data.frame(x =runif(n_pred*100), predictor = rep(1:n_pred, each = 100), obs = rep(1:100, times = n_pred))%>% pivot_wider(names_from = predictor, values_from = x)
y <- c(sim_data2[1,])
y
View(y)
as.numeric(y)
as.numeric(sim_data2[1,])
y<- rep(NA, 100)
n_pred <- 9
set.seed(101)
sim_data2 <- data.frame(x =runif(n_pred*100), predictor = rep(1:n_pred, each = 100), obs = rep(1:100, times = n_pred))%>% pivot_wider(names_from = predictor, values_from = x)
y<- rep(NA, 100)
for(i in 1:100){
y <- as.numeric(sim_data2[i,])*1:9 + rnorm(0,4)
}
y[i] <- as.numeric(sim_data2[i,])*1:9 + rnorm(0,4)
n_pred <- 9
set.seed(101)
sim_data2 <- data.frame(x =runif(n_pred*100), predictor = rep(1:n_pred, each = 100), obs = rep(1:100, times = n_pred))%>% pivot_wider(names_from = predictor, values_from = x)
y<- rep(NA, 100)
for(i in 1:100){
y[i] <- as.numeric(sim_data2[i,])*1:9 + rnorm(0,4)
}
y<- rep(NA, 100)
for(i in 1:100){
y[i] <- as.numeric(sim_data2[i,])*1:9 + rnorm(0,4)
}
as.numeric(sim_data2[1,])
y[i] <- as.numeric(sim_data2[i,2:10])*1:9 + rnorm(0,4)
View(sim_data2)
sim_data2 <- data.frame(x =runif(n_pred*100), predictor = rep(1:n_pred, each = 100), obs = rep(1:100, times = n_pred))%>% pivot_wider(names_from = predictor, values_from = x) %>% select(-obs)
y<- rep(NA, 100)
for(i in 1:100){
y[i] <- as.numeric(sim_data2[i,2:10])*1:9 + rnorm(0,4)
}
y[i] <- as.numeric(sim_data2[i, ])*1:9 + rnorm(0,4)
n_pred <- 9
set.seed(101)
sim_data2 <- data.frame(x =runif(n_pred*100), predictor = rep(1:n_pred, each = 100), obs = rep(1:100, times = n_pred))%>% pivot_wider(names_from = predictor, values_from = x) %>% select(-obs)
y<- rep(NA, 100)
for(i in 1:100){
y[i] <- as.numeric(sim_data2[i,])*1:9 + rnorm(0,4)
}
as.numeric(sim_data2[1,])*1:9 + rnorm(0,4)
y[i] <- (as.numeric(sim_data2[i,]))*1:9 + rnorm(0,4)
(as.numeric(sim_data2[1,]))*1:9 + rnorm(0,4)
sim_dat2[1,]
sim_data2[1,]
as.numeric(sim_data2[1,])
n_pred <- 9
set.seed(101)
sim_data2 <- data.frame(x =runif(n_pred*100), predictor = rep(1:n_pred, each = 100), obs = rep(1:100, times = n_pred))%>% pivot_wider(names_from = predictor, values_from = x) %>% select(-obs)
y<- rep(NA, 100)
for(i in 1:100){
y[i] <- as.numeric(sim_data2[i,])*1:9 + rnorm(0,4)
}
as.numeric(sim_data2[1,])
as.numeric(sim_data2[1,])*1:9
y[i] <- as.numeric(sim_data2[i,])*1:9 + rnorm(1,0,4)
n_pred <- 9
set.seed(101)
sim_data2 <- data.frame(x =runif(n_pred*100), predictor = rep(1:n_pred, each = 100), obs = rep(1:100, times = n_pred))%>% pivot_wider(names_from = predictor, values_from = x) %>% select(-obs)
y<- rep(NA, 100)
for(i in 1:100){
y[i] <- as.numeric(sim_data2[i,])*1:9 + rnorm(1,0,4)
}
sim_data2 <- cbind(sim_data2, y)
library(glmnet)
y <- sim_data2$y
x <- model.matrix(y ~., data = sim_data2)[,-1]
my_net <- glmnet(x,y)
n_pred <- 9
set.seed(101)
sim_data2 <- data.frame(x =runif(n_pred*100), predictor = rep(1:n_pred, each = 100), obs = rep(1:100, times = n_pred))%>% pivot_wider(names_from = predictor, values_from = x) %>% select(-obs)
y<- rep(NA, 100)
for(i in 1:100){
y[i] <- as.numeric(sim_data2[i,])*1:9 + rnorm(1,0,4)
}
sim_data2 <- cbind(sim_data2, y)
library(glmnet)
y <- sim_data2$y
x <- model.matrix(y ~., data = sim_data2)[,-1]
my_net <- glmnet(x,y)
n_pred <- 9
set.seed(101)
sim_data2 <- data.frame(x =runif(n_pred*100), predictor = rep(1:n_pred, each = 100), obs = rep(1:100, times = n_pred))%>% pivot_wider(names_from = predictor, values_from = x) %>% select(-obs)
y<- rep(NA, 100)
for(i in 1:100){
y[i] <- 10 + as.numeric(sim_data2[i,])*1:9 + rnorm(1,0,4)
}
sim_data2 <- cbind(sim_data2, y)
library(glmnet)
y <- sim_data2$y
x <- model.matrix(y ~., data = sim_data2)[,-1]
my_net <- glmnet(x,y)
library(broom)
tidied <- tidy(my_net) %>% filter(term != "(Intercept)")
ggplot(tidied, aes(lambda, estimate, group = term, color = term)) +
geom_line(size = 1) +
scale_x_log10()+
theme_bw()+
labs(title = "Coefficent estimates as function of penalty")
summary(lm(y ~ ., sim_data2))
n_pred <- 9
set.seed(101)
sim_data2 <- data.frame(x =runif(n_pred*100), predictor = rep(1:n_pred, each = 100), obs = rep(1:100, times = n_pred))%>% pivot_wider(names_from = predictor, values_from = x) %>% select(-obs)
y<- rep(NA, 100)
for(i in 1:100){
y[i] <- 10 + as.numeric(sim_data2[i,])*1:9 + rnorm(1,0,1)
}
sim_data2 <- cbind(sim_data2, y)
library(glmnet)
y <- sim_data2$y
x <- model.matrix(y ~., data = sim_data2)[,-1]
my_net <- glmnet(x,y)
summary(lm(y ~ ., sim_data2))
library(broom)
tidied <- tidy(my_net) %>% filter(term != "(Intercept)")
ggplot(tidied, aes(lambda, estimate, group = term, color = term)) +
geom_line(size = 1) +
scale_x_log10()+
theme_bw()+
labs(title = "Coefficent estimates as function of penalty")
n_pred <- 9
set.seed(101)
sim_data2 <- data.frame(x =runif(n_pred*100), predictor = rep(1:n_pred, each = 100), obs = rep(1:100, times = n_pred))%>% pivot_wider(names_from = predictor, values_from = x) %>% select(-obs)
y<- rep(NA, 100)
for(i in 1:100){
y[i] <- 10 + as.numeric(sim_data2[i,])*1:9 + rnorm(1,0,.25)
}
sim_data2 <- cbind(sim_data2, y)
library(glmnet)
y <- sim_data2$y
x <- model.matrix(y ~., data = sim_data2)[,-1]
my_net <- glmnet(x,y)
summary(lm(y ~ ., sim_data2))
library(broom)
tidied <- tidy(my_net) %>% filter(term != "(Intercept)")
ggplot(tidied, aes(lambda, estimate, group = term, color = term)) +
geom_line(size = 1) +
scale_x_log10()+
theme_bw()+
labs(title = "Coefficent estimates as function of penalty")
n_pred <- 9
set.seed(101)
sim_data2 <- data.frame(x =runif(n_pred*100), predictor = rep(1:n_pred, each = 100), obs = rep(1:100, times = n_pred))%>% pivot_wider(names_from = predictor, values_from = x) %>% select(-obs)
y<- rep(NA, 100)
for(i in 1:100){
y[i] <- 10 + as.numeric(sim_data2[i,])*1:9 + rnorm(1,0,2)
}
sim_data2 <- cbind(sim_data2, y)
library(glmnet)
y <- sim_data2$y
x <- model.matrix(y ~., data = sim_data2)[,-1]
my_net <- glmnet(x,y)
summary(lm(y ~ ., sim_data2))
n_pred <- 9
set.seed(101)
sim_data2 <- data.frame(x =runif(n_pred*200), predictor = rep(1:n_pred, each = 200), obs = rep(1:200, times = n_pred))%>% pivot_wider(names_from = predictor, values_from = x) %>% select(-obs)
y<- rep(NA, 200)
for(i in 1:200){
y[i] <- 10 + as.numeric(sim_data2[i,])*1:9 + rnorm(1,0,2)
}
sim_data2 <- cbind(sim_data2, y)
library(glmnet)
y <- sim_data2$y
x <- model.matrix(y ~., data = sim_data2)[,-1]
my_net <- glmnet(x,y)
summary(lm(y ~ ., sim_data2))
library(broom)
tidied <- tidy(my_net) %>% filter(term != "(Intercept)")
ggplot(tidied, aes(lambda, estimate, group = term, color = term)) +
geom_line(size = 1) +
scale_x_log10()+
theme_bw()+
labs(title = "Coefficent estimates as function of penalty")
n_pred <- 9
n_obs <- 200
set.seed(101)
sim_data2 <- data.frame(x =runif(n_pred*n_obs), predictor = rep(1:n_pred, each = n_obs), obs = rep(1:n_obs, times = n_pred))%>% pivot_wider(names_from = predictor, values_from = x) %>% select(-obs)
y<- rep(NA, n_obs)
for(i in 1:n_obs){
y[i] <- 10 + as.numeric(sim_data2[i,])*1:9 + rnorm(1,0,2)
}
sim_data2 <- cbind(sim_data2, y)
n_pred <- 9
n_obs <- 2000
set.seed(101)
sim_data2 <- data.frame(x =runif(n_pred*n_obs), predictor = rep(1:n_pred, each = n_obs), obs = rep(1:n_obs, times = n_pred))%>% pivot_wider(names_from = predictor, values_from = x) %>% select(-obs)
y<- rep(NA, n_obs)
for(i in 1:n_obs){
y[i] <- 10 + as.numeric(sim_data2[i,])*1:9 + rnorm(1,0,2)
}
sim_data2 <- cbind(sim_data2, y)
library(glmnet)
y <- sim_data2$y
x <- model.matrix(y ~., data = sim_data2)[,-1]
my_net <- glmnet(x,y)
summary(lm(y ~ ., sim_data2))
n_pred <- 9
n_obs <- 10000
set.seed(101)
sim_data2 <- data.frame(x =runif(n_pred*n_obs), predictor = rep(1:n_pred, each = n_obs), obs = rep(1:n_obs, times = n_pred))%>% pivot_wider(names_from = predictor, values_from = x) %>% select(-obs)
y<- rep(NA, n_obs)
for(i in 1:n_obs){
y[i] <- 10 + as.numeric(sim_data2[i,])*1:9 + rnorm(1,0,2)
}
sim_data2 <- cbind(sim_data2, y)
library(glmnet)
y <- sim_data2$y
x <- model.matrix(y ~., data = sim_data2)[,-1]
my_net <- glmnet(x,y)
summary(lm(y ~ ., sim_data2))
sim_data2[i,]
sim_data2[1,
sim_data2[1,]
y[i] <- 10 + as.numeric(sim_data2[i,1:9])*1:9 + rnorm(1,0,2)
n_pred <- 9
n_obs <- 10000
set.seed(101)
sim_data2 <- data.frame(x =runif(n_pred*n_obs), predictor = rep(1:n_pred, each = n_obs), obs = rep(1:n_obs, times = n_pred))%>% pivot_wider(names_from = predictor, values_from = x) %>% select(-obs)
y<- rep(NA, n_obs)
for(i in 1:n_obs){
y[i] <- 10 + as.numeric(sim_data2[i,1:9])*1:9 + rnorm(1,0,2)
}
sim_data2 <- cbind(sim_data2, y)
library(glmnet)
y <- sim_data2$y
x <- model.matrix(y ~., data = sim_data2)[,-1]
my_net <- glmnet(x,y)
summary(lm(y ~ ., sim_data2))
n_pred <- 9
n_obs <- 10000
set.seed(101)
sim_data2 <- data.frame(x =runif(n_pred*n_obs), predictor = rep(1:n_pred, each = n_obs), obs = rep(1:n_obs, times = n_pred))%>% pivot_wider(names_from = predictor, values_from = x) %>% select(-obs)
y<- rep(NA, n_obs)
for(i in 1:n_obs){
y[i] <- 10 + as.numeric(sim_data2[i,1:9])*1:9 + rnorm(1,0,1)
}
sim_data2 <- cbind(sim_data2, y)
library(glmnet)
y <- sim_data2$y
x <- model.matrix(y ~., data = sim_data2)[,-1]
my_net <- glmnet(x,y)
summary(lm(y ~ ., sim_data2))
sim_data2[i,1:9]
as.numeric(sim_data2[i,1:9])*1:9
n_pred <- 9
n_obs <- 10000
set.seed(101)
sim_data2 <- data.frame(x =runif(n_pred*n_obs), predictor = rep(1:n_pred, each = n_obs), obs = rep(1:n_obs, times = n_pred))%>% pivot_wider(names_from = predictor, values_from = x) %>% select(-obs)
y<- rep(NA, n_obs)
for(i in 1:n_obs){
y[i] <- 1 + as.numeric(sim_data2[i,1:9])*1:9 + rnorm(1,0,1)
}
sim_data2 <- cbind(sim_data2, y)
library(glmnet)
y <- sim_data2$y
x <- model.matrix(y ~., data = sim_data2)[,-1]
my_net <- glmnet(x,y)
summary(lm(y ~ ., sim_data2))
n_pred <- 9
n_obs <- 10000
set.seed(101)
sim_data2 <- data.frame(x =runif(n_pred*n_obs), predictor = rep(1:n_pred, each = n_obs), obs = rep(1:n_obs, times = n_pred))%>% pivot_wider(names_from = predictor, values_from = x) %>% select(-obs)
y<- rep(NA, n_obs)
for(i in 1:n_obs){
y[i] <- 1 + as.numeric(sim_data2[i,1:9])*1:9 + rnorm(1,0,.01)
}
sim_data2 <- cbind(sim_data2, y)
library(glmnet)
y <- sim_data2$y
x <- model.matrix(y ~., data = sim_data2)[,-1]
my_net <- glmnet(x,y)
summary(lm(y ~ ., sim_data2))
n_pred <- 9
n_obs <- 10000
set.seed(101)
sim_data2 <- data.frame(x =runif(n_pred*n_obs), predictor = rep(1:n_pred, each = n_obs), obs = rep(1:n_obs, times = n_pred))%>% pivot_wider(names_from = predictor, values_from = x) %>% select(-obs)
y<- rep(NA, n_obs)
for(i in 1:n_obs){
y[i] <- 1 + as.numeric(sim_data2[i,1:9])*1:9 + rnorm(1,0,.001)
}
sim_data2 <- cbind(sim_data2, y)
summary(lm(y ~ ., sim_data2))
n_pred <- 9
n_obs <- 10000
set.seed(101)
sim_data2 <- data.frame(x =runif(n_pred*n_obs)/2, predictor = rep(1:n_pred, each = n_obs), obs = rep(1:n_obs, times = n_pred))%>% pivot_wider(names_from = predictor, values_from = x) %>% select(-obs)
y<- rep(NA, n_obs)
for(i in 1:n_obs){
y[i] <- 1 + as.numeric(sim_data2[i,1:9])*1:9 + rnorm(1,0,.001)
}
sim_data2 <- cbind(sim_data2, y)
summary(lm(y ~ ., sim_data2))
n_pred <- 9
n_obs <- 10000
set.seed(101)
sim_data2 <- data.frame(x =runif(n_pred*n_obs)/2, predictor = rep(1:n_pred, each = n_obs), obs = rep(1:n_obs, times = n_pred))%>% pivot_wider(names_from = predictor, values_from = x) %>% select(-obs)
y<- rep(NA, n_obs)
for(i in 1:n_obs){
y[i] <- 1 + as.numeric(sim_data2[i,1:9])*1:9 + rnorm(1,0,.5)
}
sim_data2 <- cbind(sim_data2, y)
summary(lm(y ~ ., sim_data2))
n_pred <- 9
n_obs <- 10000
set.seed(101)
sim_data2 <- data.frame(x =1+runif(n_pred*n_obs)/2, predictor = rep(1:n_pred, each = n_obs), obs = rep(1:n_obs, times = n_pred))%>% pivot_wider(names_from = predictor, values_from = x) %>% select(-obs)
y<- rep(NA, n_obs)
for(i in 1:n_obs){
y[i] <- 1 + as.numeric(sim_data2[i,1:9])*1:9 + rnorm(1,0,.5)
}
sim_data2 <- cbind(sim_data2, y)
summary(lm(y ~ ., sim_data2))
n_pred <- 9
n_obs <- 10000
set.seed(101)
sim_data2 <- data.frame(x =1+runif(n_pred*n_obs)/2, predictor = rep(1:n_pred, each = n_obs), obs = rep(1:n_obs, times = n_pred))%>% pivot_wider(names_from = predictor, values_from = x) %>% select(-obs)
y<- rep(NA, n_obs)
for(i in 1:n_obs){
y[i] <- 1 + as.numeric(sim_data2[i,1:9])*1:9 + rnorm(1,0,.25)
}
sim_data2 <- cbind(sim_data2, y)
summary(lm(y ~ ., sim_data2))
n_pred <- 9
n_obs <- 10000
set.seed(101)
sim_data2 <- data.frame(x =1+runif(n_pred*n_obs)/2, predictor = rep(1:n_pred, each = n_obs), obs = rep(1:n_obs, times = n_pred))%>% pivot_wider(names_from = predictor, values_from = x) %>% select(-obs)
y<- rep(NA, n_obs)
for(i in 1:n_obs){
y[i] <- 1 + as.numeric(sim_data2[i,1:9])*1:9 + rnorm(1,0,.025)
}
sim_data2 <- cbind(sim_data2, y)
summary(lm(y ~ ., sim_data2))
n_pred <- 9
n_obs <- 10000
set.seed(10)
sim_data2 <- data.frame(x =1+runif(n_pred*n_obs)/2, predictor = rep(1:n_pred, each = n_obs), obs = rep(1:n_obs, times = n_pred))%>% pivot_wider(names_from = predictor, values_from = x) %>% select(-obs)
y<- rep(NA, n_obs)
for(i in 1:n_obs){
y[i] <- 1 + as.numeric(sim_data2[i,1:9])*1:9 + rnorm(1,0,.025)
}
sim_data2 <- cbind(sim_data2, y)
summary(lm(y ~ ., sim_data2))
n_pred <- 9
n_obs <- 10000
set.seed(10)
sim_data2 <- data.frame(x =1+runif(n_pred*n_obs), predictor = rep(1:n_pred, each = n_obs), obs = rep(1:n_obs, times = n_pred))%>% pivot_wider(names_from = predictor, values_from = x) %>% select(-obs)
y<- rep(NA, n_obs)
for(i in 1:n_obs){
y[i] <- 1 + as.numeric(sim_data2[i,1:9])*1:9 + rnorm(1,0,.025)
}
sim_data2 <- cbind(sim_data2, y)
as.numeric(sim_data2[i,1:9])*1:9
rnorm(1,0,.025)
1 + as.numeric(sim_data2[i,1:9])*1:9 + rnorm(1,0,1)
y[i] <- 1 + sum(as.numeric(sim_data2[i,1:9])*1:9) + rnorm(1,0,1)
n_pred <- 9
n_obs <- 10000
set.seed(10)
sim_data2 <- data.frame(x =1+runif(n_pred*n_obs), predictor = rep(1:n_pred, each = n_obs), obs = rep(1:n_obs, times = n_pred))%>% pivot_wider(names_from = predictor, values_from = x) %>% select(-obs)
y<- rep(NA, n_obs)
for(i in 1:n_obs){
y[i] <- 1 + sum(as.numeric(sim_data2[i,1:9])*1:9) + rnorm(1,0,1)
}
sim_data2 <- cbind(sim_data2, y)
summary(lm(y ~ ., sim_data2))
n_pred <- 9
n_obs <- 10000
set.seed(10)
sim_data2 <- data.frame(x =1+runif(n_pred*n_obs), predictor = rep(1:n_pred, each = n_obs), obs = rep(1:n_obs, times = n_pred))%>% pivot_wider(names_from = predictor, values_from = x) %>% select(-obs)
y<- rep(NA, n_obs)
for(i in 1:n_obs){
y[i] <- 1 + sum(as.numeric(sim_data2[i,1:9])*1:9) + rnorm(1,0,2)
}
sim_data2 <- cbind(sim_data2, y)
n_pred <- 9
n_obs <- 10000
set.seed(10)
sim_data2 <- data.frame(x = runif(n_pred*n_obs), predictor = rep(1:n_pred, each = n_obs), obs = rep(1:n_obs, times = n_pred))%>% pivot_wider(names_from = predictor, values_from = x) %>% select(-obs)
y<- rep(NA, n_obs)
for(i in 1:n_obs){
y[i] <- 1 + sum(as.numeric(sim_data2[i,1:9])*1:9) + rnorm(1,0,2)
}
sim_data2 <- cbind(sim_data2, y)
summary(lm(y ~ ., sim_data2))
library(broom)
tidied <- tidy(my_net) %>% filter(term != "(Intercept)")
ggplot(tidied, aes(lambda, estimate, group = term, color = term)) +
geom_line(size = 1) +
scale_x_log10()+
theme_bw()+
labs(title = "Coefficent estimates as function of penalty")
library(broom)
tidied <- tidy(my_net) %>% filter(term != "(Intercept)")
ggplot(tidied, aes(lambda, estimate, group = term, color = term)) +
geom_line(size = 1) +
scale_x_log10()+
theme_bw()+
labs(title = "Coefficent estimates as function of penalty")
n_pred <- 9
n_obs <- 100
set.seed(10)
sim_data2 <- data.frame(x = runif(n_pred*n_obs), predictor = rep(1:n_pred, each = n_obs), obs = rep(1:n_obs, times = n_pred))%>% pivot_wider(names_from = predictor, values_from = x) %>% select(-obs)
y<- rep(NA, n_obs)
for(i in 1:n_obs){
y[i] <- 1 + sum(as.numeric(sim_data2[i,1:9])*1:9) + rnorm(1,0,2)
}
sim_data2 <- cbind(sim_data2, y)
summary(lm(y ~ ., sim_data2))
library(broom)
tidied <- tidy(my_net) %>% filter(term != "(Intercept)")
ggplot(tidied, aes(lambda, estimate, group = term, color = term)) +
geom_line(size = 1) +
scale_x_log10()+
theme_bw()+
labs(title = "Coefficent estimates as function of penalty")
summary(lm(y ~ ., sim_data2))
library(glmnet)
y <- sim_data2$y
x <- model.matrix(y ~., data = sim_data2)[,-1]
my_net <- glmnet(x,y)
library(broom)
tidied <- tidy(my_net) %>% filter(term != "(Intercept)")
ggplot(tidied, aes(lambda, estimate, group = term, color = term)) +
geom_line(size = 1) +
scale_x_log10()+
theme_bw()+
labs(title = "Coefficent estimates as function of penalty")
n_pred <- 9
n_obs <- 100
set.seed(10)
sim_data2 <- data.frame(x = runif(n_pred*n_obs), predictor = rep(1:n_pred, each = n_obs), obs = rep(1:n_obs, times = n_pred))%>% pivot_wider(names_from = predictor, values_from = x) %>% select(-obs)
y<- rep(NA, n_obs)
for(i in 1:n_obs){
y[i] <- 1 + sum(as.numeric(sim_data2[i,1:9])*1:9) + rnorm(1,0,2)
}
sim_data2 <- cbind(sim_data2, y)
library(glmnet)
y <- sim_data2$y
x <- model.matrix(y ~., data = sim_data2)[,-1]
my_net <- glmnet(x,y)
summary(lm(y ~ ., sim_data2))
library(broom)
tidied <- tidy(my_net) %>% filter(term != "(Intercept)")
ggplot(tidied, aes(lambda, estimate, group = term, color = term)) +
geom_line(size = 1) +
scale_x_log10()+
theme_bw()+
labs(title = "Coefficent estimates as function of penalty")
summary(lm(y ~ ., sim_data2))
