library(rs)
library(rsample)
?rsample
?initial_split
house1 <- initial_split(house, prop = .5)
house <- read_csv("house.csv")
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(rsample)
house <- read_csv("house.csv")
house1 <- initial_split(house, prop = .5)
View(house1)
house1 <- initial_split(house, prop = .5, strata = Sale_Price)
house_train <- training(house1)
house_test <- testing(house1)
dim(house_train)
names(house)
full_mod <- lm(Sale_Price ~ ., data = house)
summary(full_mod)
plot(house$Gr_Liv_Area, house$Sale_Price)
data(Boston)
plot(house$Sale_Condition)
glimpse(house %>% select(Sale_Condition))
library(broom)
glance( house %>% select(Sale_Condition))
?glance
skim(house)
library(skimr)
skim(house)
browseVignettes(skimr)
browseVignettes("skimr")
?get_default_skimmer_names
get_default_skimmer_names()
get_default_skimmers()
get_one_default_skimmer("character")
skim(house %>% select(Sale_Condition))
house %>% select(Sale_Condition) %>% count()
house %>% select(Sale_Condition) %>% count(Sale_Condition)
house_test %>% select(Sale_Condition) %>% count(Sale_Condition)
skim(house_train %>% select(Sale_Price))
skim(house_test %>% select(Sale_Price))
?initial_split
View(house_test)
house_train %>% ggplot(aes(x = Gr_Liv_Area, y = Sale_Price))+geom_point()
summary(lm(Sale_Price ~ Gr_Liv_Area, data = house_train))
length(names(house))
#remove abnormal data
house <- house %>% filter(Gr_Liv_Area < 4000, & Sale_Condition=="Normal")
#remove abnormal data
house <- house %>% filter(Gr_Liv_Area < 4000 & Sale_Condition=="Normal")
#variable selection
house <- house %>% select(-Neighborhood, )
#remove abnormal data
house <- house %>% filter(Gr_Liv_Area < 4000 & Sale_Condition=="Normal")
house <- read_csv("house.csv")
#variable selection
house <- house %>% select(-Neighborhood, )
#remove abnormal data
house <- house %>% filter(Gr_Liv_Area < 4000 & Sale_Condition=="Normal")
#test - training split
house_initial <- initial_split(data = house, prop = 1/2, strata = Sale_Price, breaks = 5)
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(rsample)
house <- read_csv("house.csv")
#variable selection
house <- house %>% select(-Neighborhood, )
#remove abnormal data
house <- house %>% filter(Gr_Liv_Area < 4000 & Sale_Condition=="Normal")
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(rsample)
house <- read_csv("house.csv")
#variable selection
house <- house %>% select(-Neighborhood, )
#remove abnormal data
house <- house %>% filter(Gr_Liv_Area < 4000 & Sale_Condition=="Normal")
#test - training split
house_initial <- initial_split(data = house, prop = 1/2, strata = Sale_Price, breaks = 5)
?testing
skim(house_train)
#test - training split
set.seed(1001)
house_initial <- initial_split(data = house, prop = 1/2, strata = Sale_Price, breaks = 5)
house_train <- training(house_initial)
house_test <- testing(house_initial)
skim(house_train)
skim(house_test)
#remove abnormal data
house <- house %>% filter(Gr_Liv_Area < 4000 & Sale_Condition=="Normal")
#variable selection
house <- house %>% select(-Neighborhood, -Sale_Condition )
house <- read_csv("house.csv")
#remove abnormal data
house <- house %>% filter(Gr_Liv_Area < 4000 & Sale_Condition=="Normal")
#variable selection
house <- house %>% select(-Neighborhood, -Sale_Condition )
#test - training split
set.seed(1001)
house_initial <- initial_split(data = house, prop = 1/2, strata = Sale_Price, breaks = 5)
house_train <- training(house_initial)
house_test <- testing(house_initial)
skim(house_test)
length(names(house_test))
length(name(house_train))
length(names(house_train))
#test - training split
set.seed(1001)
house_initial <- initial_split(data = house, prop = 1/2, strata = Sale_Price, breaks = 5)
house_train <- training(house_initial)
house_test <- testing(house_initial)
house_test %>% count(MS_SubClass)
house_train %>% count(MS_SubClass)
names(house %>% select_if(is.character()))
names(house %>% select_if(is.character(.)))
names(house %>% select(is.character(.))
?select_if
names(house %>% select_if(is.character)
names(house %>% select_if(is.character))
house %>% select_if(is.character())
house %>% select_if(is.character)
full_mod <- lm(Sale_Price ~ ., data = house_train)
predict(full_mod, house_test)
#remove abnormal data
house <- house %>% filter(Gr_Liv_Area < 4000 & Sale_Condition=="Normal" & MS_SubClass != "One_and_Half_Story_PUD_All_Ages")
house <- read_csv("house.csv")
#remove abnormal data
house <- house %>% filter(Gr_Liv_Area < 4000 & Sale_Condition=="Normal" & MS_SubClass != "One_and_Half_Story_PUD_All_Ages")
#variable selection
house <- house %>% select(-Neighborhood, -Sale_Condition )
#test - training split
set.seed(1001)
house_initial <- initial_split(data = house, prop = 1/2, strata = Sale_Price, breaks = 5)
house_train <- training(house_initial)
house_test <- testing(house_initial)
full_mod <- lm(Sale_Price ~ ., data = house_train)
predict(full_mod, house_test)
house %>% count(MS_Zoning)
house <- read_csv("house.csv")
#remove abnormal data
house <- house %>% filter(Gr_Liv_Area < 4000 &
Sale_Condition=="Normal" &
MS_SubClass != "One_and_Half_Story_PUD_All_Ages" &
MS_Zoning !="A_agr")
#variable selection
house <- house %>% select(-Neighborhood, -Sale_Condition )
#test - training split
set.seed(1001)
house_initial <- initial_split(data = house, prop = 1/2, strata = Sale_Price, breaks = 5)
house_train <- training(house_initial)
house_test <- testing(house_initial)
full_mod <- lm(Sale_Price ~ ., data = house_train)
predict(full_mod, house_test)
house %>% select_if(is.character) %>% map(~count(data.frame(x = .x), x))
?ames
library(modeldata)
?ames
#remove abnormal data
house <- house %>% filter(Gr_Liv_Area < 4000 &
Sale_Condition=="Normal")
house <- read_csv("house.csv")
#remove abnormal data
house <- house %>% filter(Gr_Liv_Area < 4000 &
Sale_Condition=="Normal")
#variable selection
house <- house %>% select(-Neighborhood, -Sale_Condition, -Utilities, -Condition_2, -Roof_Matl, -Heating , -Pool_QC, - Misc_Feature)
#test - training split
set.seed(1001)
house_initial <- initial_split(data = house, prop = 1/2, strata = Sale_Price, breaks = 5)
house_train <- training(house_initial)
house_test <- testing(house_initial)
full_mod <- lm(Sale_Price ~ ., data = house_train)
predict(full_mod, house_test)
#remove problematic obs
house_test <- filter(MS_SubClass != "One_and_Half_Story_PUD_All_Ages"
)
#remove problematic obs
house_test <- house_test %>% filter(MS_SubClass != "One_and_Half_Story_PUD_All_Ages"
)
#remove problematic obs
house_test <- house_test %>% filter(MS_SubClass != "One_and_Half_Story_PUD_All_Ages",
MS_Zoning != "I_all",
)
#remove problematic obs
house_test <- house_test %>% filter(MS_SubClass != "One_and_Half_Story_PUD_All_Ages",
MS_Zoning != "I_all"
)
full_mod <- lm(Sale_Price ~ ., data = house_train)
predict(full_mod, house_test)
#remove problematic obs
house_test <- house_test %>% filter(MS_SubClass != "One_and_Half_Story_PUD_All_Ages",
MS_Zoning != "I_all",
MS_Zoning != "A_agr"
)
predict(full_mod, house_test)
#remove problematic obs
house_test <- house_test %>% filter(MS_SubClass != "One_and_Half_Story_PUD_All_Ages",
MS_Zoning != "I_all",
MS_Zoning != "A_agr"
)
#remove abnormal data
house <- house %>% filter(Gr_Liv_Area < 4000 &
Sale_Condition=="Normal")
house <- read_csv("house.csv")
house <- read_csv("house.csv")
#remove abnormal data
house <- house %>% filter(Gr_Liv_Area < 4000 &
Sale_Condition=="Normal")
#variable selection
house <- house %>% select(-Neighborhood, -Sale_Condition, -Utilities, -Condition_2, -Roof_Matl, -Heating , -Pool_QC, - Misc_Feature)
house %>% select_if(is.character) %>% map(~count(data.frame(x = .x), x))
house %>% select_if(is.character) %>% map(~count(data.frame(x = .x), x))
house_test %>% select_if(is.character) %>% map(~count(data.frame(x = .x), x))
?case_when
house <- read_csv("house.csv")
#remove abnormal data
house <- house %>% filter(Gr_Liv_Area < 4000 &
Sale_Condition=="Normal")
#variable selection
house <- house %>% select(-Neighborhood, -Sale_Condition, -Utilities, -Condition_2, -Roof_Matl, -Heating , -Pool_QC, - Misc_Feature)
#recode
house <- house %>% mutate(
Sale_Type = case_when(Sale_type)
)
house <- read_csv("house.csv")
#remove abnormal data
house <- house %>% filter(Gr_Liv_Area < 4000 &
Sale_Condition=="Normal")
#variable selection
house <- house %>% select(-Neighborhood, -Sale_Condition, -Utilities, -Condition_2, -Roof_Matl, -Heating , -Pool_QC, - Misc_Feature)
#recode
#house <- house %>% mutate(
#  Sale_Type = case_when(Sale_type))
#test - training split
set.seed(1001)
house_initial <- initial_split(data = house, prop = 4/5, strata = Sale_Price, breaks = 5)
house_train <- training(house_initial)
house_test <- testing(house_initial)
#remove problematic obs
house_test <- house_test %>% filter(MS_SubClass != "One_and_Half_Story_PUD_All_Ages",
MS_Zoning != "I_all",
MS_Zoning != "A_agr"
)
full_mod <- lm(Sale_Price ~ ., data = house_train)
predict(full_mod, house_test)
#test - training split
set.seed(1001)
house_initial <- initial_split(data = house, prop = 4/5, strata = Sale_Price, breaks = 5)
house_train <- training(house_initial)
house_test <- testing(house_initial)
#remove problematic obs
house_test <- house_test %>% filter(MS_SubClass != "One_and_Half_Story_PUD_All_Ages",
MS_Zoning != "I_all",
MS_Zoning != "A_agr"
)
full_mod <- lm(Sale_Price ~ ., data = house_train)
predict(full_mod, house_test)
house %>% select_if(is.character) %>% map(~count(data.frame(x = .x), x))
#remove problematic obs
house_test <- house_test %>% filter(MS_SubClass != "One_and_Half_Story_PUD_All_Ages",
MS_Zoning != "I_all",
MS_Zoning != "A_agr",
Sale_Type != "0th"
)
predict(full_mod, house_test)
predict(full_mod, house_test)
house_test %>% select_if(is.character) %>% map(~count(data.frame(x = .x), x))
#remove problematic obs
house_test <- house_test %>% filter(MS_SubClass != "One_and_Half_Story_PUD_All_Ages",
MS_Zoning != "I_all",
MS_Zoning != "A_agr",
Sale_Type != "0th"
)
predict(full_mod, house_test)
full_mod <- lm(Sale_Price ~ ., data = house_train)
predict(full_mod, house_test)
#remove problematic obs
house_test <- house_test %>% filter(MS_SubClass != "One_and_Half_Story_PUD_All_Ages",
MS_Zoning != "I_all",
MS_Zoning != "A_agr",
Sale_Type != "0th"
)
house_test %>% select_if(is.character) %>% map(~count(data.frame(x = .x), x))
predict(full_mod, house_test)
full_mod <- lm(Sale_Price ~ ., data = house_train)
predict(full_mod, house_test)
#remove problematic obs
house_test <- house_test %>% filter(MS_SubClass != "One_and_Half_Story_PUD_All_Ages",
MS_Zoning != "I_all",
MS_Zoning != "A_agr",
Sale_Type != "Oth"
)
full_mod <- lm(Sale_Price ~ ., data = house_train)
predict(full_mod, house_test)
summary(full_mod)
house_train <- house_traun %>% filter(MS_SubClass != "Exterior_2ndPreCast ")
house_train <- house_train %>% filter(MS_SubClass != "Exterior_2ndPreCast ")
full_mod <- lm(Sale_Price ~ ., data = house_train)
predict(full_mod, house_test)
summary(full_mod)
house %>% select_if(is.character) %>% map(~count(data.frame(x = .x), x))
#remove abnormal data
house <- house %>% filter(Gr_Liv_Area < 4000 &
Sale_Condition=="Normal",
Electrical != "Unknown")
#remove abnormal data
house <- house %>% filter(Gr_Liv_Area < 4000 &
Sale_Condition=="Normal"&
Electrical != "Unknown")
house <- read_csv("house.csv")
#remove abnormal data
house <- house %>% filter(Gr_Liv_Area < 4000 &
Sale_Condition=="Normal"&
Electrical != "Unknown")
#variable selection
house <- house %>% select(-Neighborhood, -Sale_Condition, -Utilities, -Condition_2, -Roof_Matl, -Heating , -Pool_QC, - Misc_Feature)
#remove abnormal data
house <- house %>% filter(Gr_Liv_Area < 4000 &
Sale_Condition=="Normal"&
Electrical != "Unknown" &
Heating_QC != "Poor" &
!(Exterior_1st %in% c("ImStucc", "PreCast","CBlock" ))
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(rsample)
house <- read_csv("house.csv")
#remove abnormal data
house <- house %>% filter(Gr_Liv_Area < 4000 &
Sale_Condition=="Normal"&
Electrical != "Unknown" &
Heating_QC != "Poor" &
!(Exterior_1st %in% c("ImStucc", "PreCast","CBlock" ))
#remove abnormal data
house <- house %>% filter(Gr_Liv_Area < 4000 &
Sale_Condition=="Normal"&
Electrical != "Unknown" &
Heating_QC != "Poor" &
!(Exterior_1st %in% c("ImStucc", "PreCast","CBlock" ))
)
house <- read_csv("house.csv")
#remove abnormal data
house <- house %>% filter(Gr_Liv_Area < 4000 &
Sale_Condition=="Normal"&
Electrical != "Unknown" &
Heating_QC != "Poor" &
!(Exterior_1st %in% c("ImStucc", "PreCast","CBlock" ))
)
#variable selection
house <- house %>% select(-Neighborhood, -Sale_Condition, -Utilities, -Condition_2, -Roof_Matl, -Heating , -Pool_QC, - Misc_Feature)
#recode
#house <- house %>% mutate(
#  Sale_Type = case_when(Sale_type))
#house %>% select_if(is.character) %>% map(~count(data.frame(x = .x), x))
#test - training split
set.seed(1001)
house_initial <- initial_split(data = house, prop = 4/5, strata = Sale_Price, breaks = 5)
house_train <- training(house_initial)
house_test <- testing(house_initial)
#remove problematic obs
house_test <- house_test %>% filter(MS_SubClass != "One_and_Half_Story_PUD_All_Ages",
MS_Zoning != "I_all",
MS_Zoning != "A_agr",
Sale_Type != "Oth"
)
house_train <- house_train %>% filter(MS_SubClass != "Exterior_2ndPreCast ")
full_mod <- lm(Sale_Price ~ ., data = house_train)
predict(full_mod, house_test)
summary(full_mod)
house <- read_csv("house.csv")
#remove abnormal data
house <- house %>% filter(Gr_Liv_Area < 4000 &
Sale_Condition=="Normal"&
Electrical != "Unknown" &
Heating_QC != "Poor" &
!(Exterior_1st %in% c("ImStucc", "PreCast","CBlock" ))
)
#variable selection
house <- house %>% select(-Neighborhood, -Sale_Condition, -Utilities, -Condition_2, -Roof_Matl, -Heating , -Pool_QC, - Misc_Feature)
#test - training split
set.seed(1001)
house_initial <- initial_split(data = house, prop = 4/5, strata = Sale_Price, breaks = 10)
house_train <- training(house_initial)
house_test <- testing(house_initial)
#remove problematic obs
house_test <- house_test %>% filter(MS_SubClass != "One_and_Half_Story_PUD_All_Ages",
MS_Zoning != "I_all",
MS_Zoning != "A_agr",
Sale_Type != "Oth"
)
house_train <- house_train %>% filter(MS_SubClass != "Exterior_2ndPreCast ")
#test - training split
set.seed(1001)
house_initial <- initial_split(data = house, prop = 3/4, strata = Sale_Price, breaks = 10)
house_train <- training(house_initial)
house_test <- testing(house_initial)
#remove problematic obs
house_test <- house_test %>% filter(MS_SubClass != "One_and_Half_Story_PUD_All_Ages",
MS_Zoning != "I_all",
MS_Zoning != "A_agr",
Sale_Type != "Oth"
)
house_train <- house_train %>% filter(MS_SubClass != "Exterior_2ndPreCast ")
full_mod <- lm(Sale_Price ~ ., data = house_train)
predict(full_mod, house_test)
#remove problematic obs
house_test <- house_test %>% filter(MS_SubClass != "One_and_Half_Story_PUD_All_Ages",
MS_Zoning != "I_all",
MS_Zoning != "A_agr",
Sale_Type != "Oth",
Sale_Type != "VWD",
)
house_train <- house_train %>% filter(MS_SubClass != "Exterior_2ndPreCast ")
predict(full_mod, house_test)
plot(house_train$Sale_Price)
hist(house_train$Sale_Price)
hist(house_test$Sale_Price)
write_csv(house_test, "house_test.csv")
write_csv(house_train, "house_train.csv")
View(house)
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
#This function performs data processing. Anything you do to the training set must be repeated on the test set.
FirstName_LastName_processing <- function(x){
library(tidyverse) ## Load whatever packages you need
x <- x %>% mutate(Sale_Price = Sale_Price) #Include all relevant processing steps. The included step is just a placeholder example
x ## returns the processed data as output
}
library() ## Load whatever packages you need
?sample_n()
B <- sample_frac(house_train, size = .5 )
?modeldata
library(modeldata)
?ames
?initial_split
View(house)
names(house)
length(names(house_train %>% select_if(is.numeric))
length(names(house_train %>% select_if(is.numeric)))
length(names(house_train %>% select_if(is.numeric)
house_train %>% select_if(is.numeric) %>% names()
length(house_train %>% select_if(is.numeric) %>% names())
